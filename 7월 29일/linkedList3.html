<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <style></style>
  </head>
  <body></body>
  <script>
    class Node {
      constructor(data) {
        this.data = data;
        this.next = null;
      }
    }

    class LinkedList {
      constructor() {
        let init = new Node("init"); // 데이터가 없는 헤드노드
        this.head = init;
        this.tail = init;
        this.length = 0;
      }

      // 데이터 추가
      append(data) {
        let newNode = new Node(data);
        this.tail.next = newNode;
        this.tail = newNode;
        this.length++;
      }

      // 리스트 순회
      traverseList() {
        let current = this.head;
        while (current) {
          console.log(current.data);
          current = current.next;
        }
      }

      // 문자열로 바꾸기
      toString() {
        let current = this.head.next;
        let result = "";
        while (current) {
          result += `${current.data} `;
          current = current.next;
        }
        return result.trim();
      }

      // 데이터로 인덱스 검색
      getIndexOf(data) {
        let current = this.head.next; // node1
        let index = 0;
        while (current) {
          if (current.data === data) {
            break;
          }
          index++;
          current = current.next;
        }
        if (!current) {
          throw new Error("검색결과가 존재하지 않습니다.");
        }
        return index;
      }

      // 데이터 삽입하기(인덱스)
      // 마지막 인덱스에도 추가 가능
      insert(data, index) {
        let current = this.head; // init
        // 삽입할 인덱스 위치의 직전 노드를 current가 가리키도록 한다.
        for (let i = 0; i < index; i++) {
          current = current.next;
        }
        let newNode = new Node(data);
        newNode.next = current.next;
        current.next = newNode;
      }
    }

    let list1 = new LinkedList();
    list1.append(10);
    list1.append(20);
    list1.append(30);
    list1.append(40);
    list1.append(50);
    list1.insert(999, 2);
    list1.insert(9999, 6);
    list1.insert(1, 7);

    list1.traverseList();
    console.log(`해당 리스트의 길이는 ${list1.length}(헤드노드 안셈)`);
    console.log(`<${list1.toString()}>`);
  </script>
</html>
