<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> </title>
    <style></style>
  </head>
  <body>
    <script>
      // new Set
      let set = new Set("abcdeeeEE"); // 문자열을 그대로 넣어도 중복이 제거된 집합 객체가 만들어짐
      let set2 = new Set(["a", "b", "c", "d", "e", "e"]); // 배열을 넣는것이 좀더 익숙함
      console.log(set); // ??? 여기에서 왜 f가 포함되는지 모르겠다.
      console.log(set2);
      console.log(set.size);

      // Set에 값을 추가하기
      set.add("f");
      console.log(set);

      // Set을 순환하기
      for (var item of set) {
        console.log(item);
      }

      // 값이 배열인 경우
      let ss = new Set("abcdeeeeeeeee".split("")); // split()을 이용하여 배열로 만들어서 넣음
      console.log(ss);

      // Set의 값을 제거하기
      ss.delete("b");

      console.log(ss);

      // Set의 값을 확인하기
      console.log(ss.has("a"));

      // Set의 모든 값을 제거하기
      ss.clear();
      console.log(ss);

      let a = new Set("abc");
      let b = new Set("cde");
      // 교집합
      let cro = [...a].filter((item) => b.has(item));
      cro = new Set(cro);
      console.log(cro);

      // 차집합
      let dif = [...a].filter((item) => !b.has(item));
      dif = new Set(dif);
      console.log(dif);

      // 합집합
      let union = new Set([...a].concat(...b));
      console.log(union);

      // 문제 : 회사 게시판에는 총 6개의 게시물이 있고, 각각의 게시물에 게시자 데이터를 뽑은 것이 '회사게시판'
      회사게시판 = ["이호준", "이호준", "이호준", "김은하", "김은하", "이준근"];

      // 문제 1 : 몇 명이 게시판에 게시물을 썼나요? (인원이 유일해야 합니다.)
      const s = new Set(회사게시판);
      console.log("게시글 수:", s.size);

      // 문제 2 : 각각 몇 개의 게시물을 작성하였나요?
      const countMap = new Map();
      const 게시자 = [...s]; // 중복이 제거된 게시자 배열

      // for of 문 연습 - 객체의 값을 순회 = 배열, 문자열, Map, Set에 사용
      for (let x of 게시자) {
        countMap.set(x, 회사게시판.filter((item) => item === x).length);
      }

      // forEach 문 연습 -> 배열의 요소를 콜백함수로 순회함
      게시자.forEach((x) => {
        countMap.set(x, 회사게시판.filter((item) => item === x).length);
      });

      // for of = 객체의 '값'을 순회 = 배열, 문자열, Map, Set에 사용
      // for in = 객체의 '키'를 순회 = 객체
      // forEach = '배열'의 요소를 '콜백함수'로 순회함

      console.log(countMap);

      let map = new Map();
      for (const name of 회사게시판) {
        // 원본 배열을 순회하면서 Map 객체를 업데이트(+1) 해주는 식으로 동작.
        map.set(name, (map.get(name) || 0) + 1);
        // (map.get(name) ||  0)

        // map.get(name)
        // 값이 있으면 map.get(name)을 남긴다.
        // 값이 없다면(undefined) 0을 남긴다. <- Map 객체에 ket값이 존재하지 않는 경우
      }
      console.log(map);
    </script>
  </body>
</html>
